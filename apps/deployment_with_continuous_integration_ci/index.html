<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        <link rel="canonical" href="http://help.ninefold.com/apps/deployment_with_continuous_integration_ci/">
        <link rel="shortcut icon" href="../../img/favicon.ico">

        <title>Deployment with continuous integration (CI) - Ninefold</title>

        <link href="../../css/bootstrap.min.css" rel="stylesheet">
        <link href="../../css/font-awesome.min.css" rel="stylesheet">
        <link href="../../css/prettify-1.0.css" rel="stylesheet">
        <link href="../../css/base.css" rel="stylesheet">

        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

        

        <script type="text/javascript">
        var __lc = {};
        __lc.license = 1076997;

        (function() {
            var lc = document.createElement('script'); lc.type = 'text/javascript'; lc.async = true;
            lc.src = ('https:' == document.location.protocol ? 'https://' : 'http://') + 'cdn.livechatinc.com/tracking.js';
            var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(lc, s);
        })();
        </script>
        
    </head>

    <body>

        <div id="ninefold-nav" class="navbar navbar-inverse " role="navigation">
    <div class="container">
        <div class="ninefold-nav">
            <div class="navbar-header">
                <a title="Ninefold" class="mast__topbar__logo logo" href="/"></a>
              
                
           
            </div>
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".nine-navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <div class="collapse nine-navbar-collapse navbar-collapse">
                <ul class="nav navbar-nav">
                <li>
                  <a href="https://ninefold.com/pricing">Pricing</a>
                </li>
                <li>
                  <a href="https://ninefold.com/performance">Performance</a>
                </li>
                <li>
                  <a href="https://ninefold.com/testimonials">Testimonials</a>
                </li>
                <li>
                  <a href="https://ninefold.com/news">News</a>
                </li>
                <li>
                  <a href="https://ninefold.com/blog">Blog</a>
                </li>
                <li>
                  <a href="https://ninefold.com/about-us">About Us</a>
                </li>
                <li class="active">
                  <a href="https://help.ninefold.com">Docs</a>
                </li>
                <li class="signin">
                  <a href="http://portal.ninefold.com">Sign in</a>
                </li>
                </ul>
            </div>

        </div>
    </div>

</div>
<div class="main-nav">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            <!-- Expander button -->
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".main-navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <i class="fa fa-chevron-down"></i>
            </button>

            <!-- Main title -->
            <!-- <a class="navbar-brand" href="../..">Ninefold</a> -->
        </div>

        <!-- Expanded navigation -->
        <div class="main-navbar-collapse navbar-collapse collapse">
            <!-- Main navigation -->
            <ul class="nav navbar-nav">
            
            
                <li >
                    <a href="../..">Home</a>
                </li>
            
            
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Getting Started <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li >
                            <a href="../../getstarted/how_to_deploy_an_app/">How to deploy an app</a>
                        </li>
                    
                        <li >
                            <a href="../../getstarted/how_to_install_and_utilize_the_cli/">How to install and utilize the CLI</a>
                        </li>
                    
                        <li >
                            <a href="../../getstarted/how_to_migrate_from_heroku/">How to migrate from Heroku</a>
                        </li>
                    
                        <li >
                            <a href="../../getstarted/how_ninefold_works_with_github_bitbucket_and_git_url/">How Ninefold works with GitHub, Bitbucket and Git URL</a>
                        </li>
                    
                        <li >
                            <a href="../../getstarted/exporting_and_importing_postgresql_data/">Exporting and importing PostgreSQL data</a>
                        </li>
                    
                        <li >
                            <a href="../../getstarted/how_to_deploy_diaspora/">How to deploy Diaspora on Ninefold</a>
                        </li>
                    
                    </ul>
                </li>
            
            
            
                <li class="dropdown active">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">App Deployment <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li class="active">
                            <a href="./">Deployment with continuous integration (CI)</a>
                        </li>
                    
                        <li >
                            <a href="../deploying_a_rails_app_with_your_own_database/">Deploying a Rails app with your own database</a>
                        </li>
                    
                        <li >
                            <a href="../asset_precompile_on_ninefold/">Asset precompilation on Ninefold</a>
                        </li>
                    
                        <li >
                            <a href="../setting_up_deployment_notifications/">Setting up deployment notifications</a>
                        </li>
                    
                        <li >
                            <a href="../zero_downtime_deployment_for_your_ninefold_rails_app/">Zero downtime deployment for your Rails app</a>
                        </li>
                    
                        <li >
                            <a href="../setting_and_changing_your_apps_configuration_and_infrastructure/">Setting and changing your app configuration and infrastructure</a>
                        </li>
                    
                        <li >
                            <a href="../private_gem_repos_on_github_&_bitbucket/">Private gem repos on GitHub and Bitbucket</a>
                        </li>
                    
                        <li >
                            <a href="../what_happens_and_what_gets_built_on_a_rails_app_deployment/">What happens and what gets built when you deploy your app</a>
                        </li>
                    
                        <li >
                            <a href="../ssl_management_for_rails_apps/">SSL for Rails apps</a>
                        </li>
                    
                        <li >
                            <a href="../dns_management_for_rails_apps/">DNS management for Rails apps</a>
                        </li>
                    
                        <li >
                            <a href="../adding_sendgrid_to_your_rails_app/">Adding SendGrid to your Rails app</a>
                        </li>
                    
                        <li >
                            <a href="../creating_scheduled_tasks_in_rails/">Creating scheduled tasks in Rails</a>
                        </li>
                    
                        <li >
                            <a href="../backing_up_and_restoring_your_rails_db/">Backing up and restoring your database</a>
                        </li>
                    
                        <li >
                            <a href="../redeploying_an_app/">Redeploying an app</a>
                        </li>
                    
                        <li >
                            <a href="../postgres_and_postgis_and_modules/">PostgreSQL, PostGIS, and PostgreSQL modules</a>
                        </li>
                    
                        <li >
                            <a href="../how_to_utilize_a_cdn_with_ninefold/">How to utilize a CDN with Ninefold (S3 and CloudFront)</a>
                        </li>
                    
                        <li >
                            <a href="../upgrading_from_rails_40_to_41/">Upgrading from Rails 4.0 to 4.1</a>
                        </li>
                    
                    </ul>
                </li>
            
            
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Servers <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li >
                            <a href="../../servers/how_to_create_a_docker_server/">Docker containers</a>
                        </li>
                    
                        <li >
                            <a href="../../servers/create/">How to create a server</a>
                        </li>
                    
                        <li >
                            <a href="../../servers/resize/">How to resize your server</a>
                        </li>
                    
                        <li >
                            <a href="../../servers/liveview/">How to access your server with live view</a>
                        </li>
                    
                        <li >
                            <a href="../../servers/how_to_clone_your_server/">How to clone a server</a>
                        </li>
                    
                        <li >
                            <a href="../../servers/how_to_attach_and_upload_an_iso/">How to upload and attach an ISO</a>
                        </li>
                    
                        <li >
                            <a href="../../servers/how_to_create_a_template_from_your_server/">How to create a template from your server</a>
                        </li>
                    
                        <li >
                            <a href="../../servers/moving/">Copying or moving servers between regions</a>
                        </li>
                    
                        <li >
                            <a href="../../servers/how_to_add_storage_volumes/">How to add storage volumes</a>
                        </li>
                    
                        <li >
                            <a href="../../servers/how_to_view_attached_and_detached_storage_volumes/">How to view attached and detached storage volumes</a>
                        </li>
                    
                        <li >
                            <a href="../../servers/how_to_detach_then_reattach_a_storage_volume/">How to detach then reattach a storage volume</a>
                        </li>
                    
                        <li >
                            <a href="../../servers/using_backups_to_protect_your_data/">Using backups to protect your data</a>
                        </li>
                    
                        <li >
                            <a href="../../servers/new_server_username_and_password/">New server username and password</a>
                        </li>
                    
                        <li >
                            <a href="../../servers/resetting_server_password/">Reset your server password</a>
                        </li>
                    
                        <li >
                            <a href="../../servers/how_to_connect_to_your_server_using_ssh_rdp/">How to connect to your server using SSH / RDP</a>
                        </li>
                    
                        <li >
                            <a href="../../servers/how_to_activate_windows_server/">How to activate Windows Server</a>
                        </li>
                    
                        <li >
                            <a href="../../servers/microsoft_licensing_can_i_use_my_existing_software_and_licenses_on_ninefold/">Microsoft licensing - Can I use my existing software and licenses?</a>
                        </li>
                    
                    </ul>
                </li>
            
            
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Networking <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li >
                            <a href="../../networking/ninefold_net/">How to enable Ninefold Net</a>
                        </li>
                    
                        <li >
                            <a href="../../networking/dns_management_for_servers/">DNS management for servers</a>
                        </li>
                    
                        <li >
                            <a href="../../networking/setup_load_balancing_single_zone/">Setup load balancing (single zone)</a>
                        </li>
                    
                        <li >
                            <a href="../../networking/setting_up_static_nat_&_port_forward_for_ip_addresses/">Setting up static NAT & port forward for IP addresses</a>
                        </li>
                    
                        <li >
                            <a href="../../networking/how_to_open_firewall_ports/">How to open firewall ports</a>
                        </li>
                    
                        <li >
                            <a href="../../networking/how_to_setup_global_load_balancing_for_servers/">How to setup global load balancing for servers</a>
                        </li>
                    
                        <li >
                            <a href="../../networking/how_to_delegate_your_domain_to_ninefold/">How to delegate your domain to Ninefold</a>
                        </li>
                    
                        <li >
                            <a href="../../networking/how_to_release_or_unassign_your_ip_addresses/">How to release or unassign your IP addresses</a>
                        </li>
                    
                        <li >
                            <a href="../../networking/how_to_use_multiple_ip_addresses_on_a_server/">How to use multiple IP addresses on a server</a>
                        </li>
                    
                    </ul>
                </li>
            
            
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Accounts & Billing <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li >
                            <a href="../../billing/freetrial/">Free trial</a>
                        </li>
                    
                        <li >
                            <a href="../../billing/createuser/">Creating additional users</a>
                        </li>
                    
                        <li >
                            <a href="../../billing/closeaccount/">How to close your account</a>
                        </li>
                    
                        <li >
                            <a href="../../billing/faq/">Billing FAQ</a>
                        </li>
                    
                    </ul>
                </li>
            
            
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Reference <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li >
                            <a href="../../reference/faq/">FAQ</a>
                        </li>
                    
                        <li >
                            <a href="../../reference/apdex/">Apdex to measure user satisfaction</a>
                        </li>
                    
                        <li >
                            <a href="../../reference/API/">Using the API (v2)</a>
                        </li>
                    
                        <li >
                            <a href="../../reference/contributing/">Contribute to our docs</a>
                        </li>
                    
                    </ul>
                </li>
            
            
            </ul>

            <!-- Search, Navigation and Repo links -->
            <ul class="nav navbar-nav navbar-right">
                
                <!-- 
                <li>
                    <a href="https://github.com/ninefold/docs/">
                        
                            <i class="fa fa-github"></i>
                        
                        GitHub
                    </a>
                </li>
                 -->
            </ul>
        </div>
    </div>
</div>

        <div class="container-fluid">
         
            <div class="col-md-3"><div class="bs-sidebar hidden-print hidden-xs hidden-sm affix well" role="complementary">
    <ul class="nav bs-sidenav">
    
        <li class="main active"><a href="#deployment-with-continuous-integration-ci">Deployment With Continuous Integration (CI)</a></li>
    
    </ul>
</div>
</div>

            <div class="col-md-9" role="main">

                <div class="col-md-12 hidden-xs hidden-sm">
                    <a href="https://github.com/ninefold/docs/tree/master/docs/apps/deployment_with_continuous_integration_ci.md" class="github-btn btn btn-default pull-right"> <span class="fa fa-github"></span> Edit on GitHub</a>
                </div>
                <div class="col-md-12 hidden-xs hidden-sm"></br></div>
                
                   

<h2 id="deployment-with-continuous-integration-ci">Deployment With Continuous Integration (CI)</h2>
<p>As developers, we are keen on certain processes such as continuous integration, because it works and it’s handy! As defined by Thoughtworks, "Continuous Integration (CI) is a development practice that requires developers to integrate code into a shared repository several times a day. Each check-in is then verified by an automated build, allowing teams to detect problems early.</p>
<p>By integrating regularly, you can detect errors quickly, and locate them more easily.</p>
<p>With Ruby on Rails development, we tend to use tools such as Travis CI, Circle CI, Jenkins CI, and Magnum CI (amongst others).</p>
<p>With Ninefold, you can totally set up your CI to deploy your code to Ninefold after it runs your tests.</p>
<p><em>But wait, what about autodeploy?!</em></p>
<p>Well, we can’t have our cake and eat it, too, can we? If you deployed via the GitHub or Bitbucket option, you will have to remove the <strong>Automatically redeploy my app when I push updates to my code</strong> from the <strong>Overview</strong> tab of your app. </p>
<p>And if you didn’t have that option checked, that’s totally cool -- you’re one step ahead of the game!</p>
<p>You’ll need to know which CI you’re using. ...We can’t help you there. :)</p>
<p>But, this is your lucky day! Once you pick a CI to use, we give you a whopping two options to choose from to obtain a redeployment trigger when your CI succeeds!</p>
<h4 id="1-cli-deployment-command">#1 CLI Deployment Command</h4>
<p>You’ll also need the deploy command given by our awesome CLI.  (If you haven’t set it up, check out the directions <a href="http://www.ninefold.com/docs/getstarted/how_to_install_and_utilize_the_cli">here</a>.)  Make sure to put the Ninefold gem into the Gemfile and run bundle.</p>
<pre class="prettyprint well"><code>$ ninefold signin
$ ninefold app redeploy_command
</code></pre>
<p>The output will look something like: </p>
<p>AUTH_TOKEN=(hash) APP_ID=(number) ninefold app redeploy --robot --sure</p>
<p>The general idea is that if you push to the git repository, the CI environment will kick off and run your tests. Once the tests pass, the CI will then kick off your Ninefold deployment.</p>
<p>Each CI environment sets it up slightly differently, but they all will use the redeploy_command seen above.  </p>
<p>Note: You may have to add in "bundle exec" before ninefold: </p>
<p>AUTH_TOKEN=(hash) APP_ID=(number) bundle exec ninefold app redeploy --robot --sure</p>
<h4 id="2-deployment-url-via-portal">#2 Deployment URL via Portal</h4>
<p>Login into the Ninefold Portal and click on your existing app's Overview tab. Copy (or Reset) the Deployment URL. Enter the curl command ($ curl [Deployment URL]) into your CI when your tests pass.</p>
<h4 id="how-redeploying-via-the-ci-works">How Redeploying via the CI Works</h4>
<p>The general idea is that if you push to the git repository, the CI environment will kick off and run your tests. Once the tests pass, the CI will then kick off your Ninefold deployment.</p>
<p>Each CI environment sets it up slightly differently, but they all will use the redeploy_command or Deployment URL seen above for redeploying your app on Ninefold.</p>
<p><strong>Travis CI</strong></p>
<p>If you’re using Travis CI, they have some awesome documentation on their site on how to use Ninefold. Check it out <a href="http://docs.travis-ci.com/user/deployment/ninefold/">here</a>!</p>
<p><strong>Circle CI</strong></p>
<p>With Circle CI, it is best to put your AUTH_TOKEN and APP_ID in as environment variables. Add these in the settings page of Circle CI.  Then in the circle.yml file add the following:</p>
<pre class="prettyprint well"><code>deployment:
  production:  
    branch: master (or whatever branch you’re working against)
    commands:
       - bundle exec ninefold app redeploy --robot --sure
</code></pre>
<p>or</p>
<pre class="prettyprint well"><code>- curl [Deployment URL]
</code></pre>
<p><strong>Jenkins CI</strong></p>
<p>In your Jenkins shell script that is running your tests, add the redeploy_command or curl [Deployment URL] after your test commands (bundle exec rspec spec, etc).</p>
<p><strong>Magnum CI</strong></p>
<p>With Magnum, you can input all the information in straight into the UI. You don’t even need a .yml file!  In your build steps, add the redeploy_command or curl [Deployment URL] in the “After test suite execution” box. Definitely make sure you have “bundle exec” in the command.</p>
<hr />
<p>Any further questions on private gems can be directed to our LiveChat below, or you are welcome to log a ticket in the Ninefold Portal.</p>


</br></br></br></br>
            </div>
        </div>

        

        <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
        <script src="../../js/bootstrap.min.js"></script>
        <script src="../../js/prettify-1.0.min.js"></script>

        <script src="../../js/base.js"></script>
    </body>
</html>